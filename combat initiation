local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local function modifyToolAttributes(toolName, attributes)
    local tool = LocalPlayer.Backpack:FindFirstChild(toolName) or (LocalPlayer.Character and LocalPlayer.Character:FindFirstChild(toolName))

    if tool then
        for attribute, value in pairs(attributes) do
            tool:SetAttribute(attribute, value)
        end
        print(toolName .. " attributes have been set.")
    end
end

local function utilityRespawn(character)
    local player = Players.LocalPlayer
    local accessoryEffects = player:FindFirstChild("AccessoryEffects") or player.Backpack.Parent:FindFirstChild("AccessoryEffects")

    if accessoryEffects then
        accessoryEffects:SetAttribute("Lightning_Chance", 100)
        accessoryEffects:SetAttribute("Melee_Range", 2.5)
        accessoryEffects:SetAttribute("Pogo_Range", 1.5)
    else
        print("AccessoryEffects not found.")
    end

    if character then
        character:SetAttribute("DashRegenTime", 0.01)
        character:SetAttribute("DashRegenFury", 0.01)
        character:SetAttribute("UtilityBoost", 1.5)
    end
end

local toolsToModify = {
    ["Sword"] = {
        LungeRate = 0,
        Swingrate = 0,
        OffhandSwingRate = 0
    },
    ["Firebrand"] = {
        LungeRate = 0,
        Swingrate = 0,
        OffhandSwingRate = 0,
        Windup = 0
    },
    ["Katana"] = {
        LungeRate = 0,
        Swingrate = 0,
        OffhandSwingRate = 0
    },
    ["Slingshot"] = {
        Capacity = 10000,
        ChargeRate = 0,
        Firerate = 0,
        Spread = 0,
        ProjectileSpeed = 6767
    },
    ["Freeze Ray"] = {
        Firerate = 0,
        ProjectileSpeed = 2250,
        ChargeTime = 0
    },
    ["Paintbull Gun"] = {
        Firerate = 0,
        ProjectileSpeed = 2250
    },
    ["BB Gun"] = {
        Firerate = 0,
        MinShots = 2,
        MaxShots = math.huge
    },
    ["Bazooka"] = {
        Firerate = 0,
        ReloadTick = 0,
        Capacity = 100,
        PassiveReloadTick = 0
    }
}

task.spawn(function()
    while task.wait(5) do
        for toolName, attributes in pairs(toolsToModify) do
            modifyToolAttributes(toolName, attributes)
        end
    end
end)

if LocalPlayer.Character then
    utilityRespawn(LocalPlayer.Character)
end

LocalPlayer.CharacterAdded:Connect(utilityRespawn)
